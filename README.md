# database_knowledge
（学习记录）基础的数据库知识，发展过程等(2018年梳理）。
数据管理从文件系统管理（50-60年代）走向数据库管理，一方面是需求，一方面是硬件驱动的结果。
数据库管理系统的目标是简单，高效的管理数据。
给应用开发带来方便。
网状数据库、层次数据库，对象数据库，被干掉，关系数据库成功：关系代数理论完备，sql语言与接口简单易用，企业it市场蓬勃发展。  
新兴nosql:特征：不需要预定义模式；无共享框架，弹性可扩展；分区异步赋值；最终一致性；  
nosql举例：  
kv：redis，oracle BDB 场景：内容缓存，高访问负载，日志系统等；  
列存储：HBASE，场景：分布式文件系统  
文档型数据库：mongoDB web应用，类似kv，不过数据库了解value内容  
图数据库：neo4j等，社交网络，推荐系统；  
newsql数据库： 兼容acid和nosql的高可扩展，foundationDB和voltdb  
典型企业 OLTP（事务。日常业务）/OLAP（分析）  
OLTP:数据量一般不大，高并发、高可用  
OLAP；大数据量，高并行，低并发

  
数据库衡量四大要素： 易用性/简单性（SQL，JDBC/ODBC等），可靠性可用性（ACID没备份，复制，容灾），性能/性价比（索引，分区，并行执行，优化查询），扩展性  
SQL：DDL、DML、DCL
ACID：原子性，一致性（根本），隔离性，持久性  
可靠性：  
事务并发控制：四个隔离级别，未提交读，提交读，可重复读，序列化； 对应问题 ：脏读/幻读/不可重复读  
并发控制基于锁的并发控制和多版本的并发控制（读写不阻塞，一般都给予MVCC的并发控制）
事务持久化：WAL，redo/undo日志或者逻辑日志/物理日志  
可靠性/可用性：备份，物理备份（全量），逻辑日志（增量）（一般支持快照备份）；主备，都可用；容灾，主要考虑网络；  
扩展性：多读写稍少，中间件，分发数据，shard打散；  
sharednothing架构，是和AP数据库，节点交互少，容易扩展，缺点：表扫描需要扫多节点  
shared disk：TP，共享一个磁盘阵列，上面搭建多节点，一个节点可用全局可用
  
引擎结构：SQL引擎、执行引擎、存储引擎（索引，堆，日志，锁，事务，缓冲区，内存镜像，页面，空闲空间，存储）
